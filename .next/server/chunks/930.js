exports.id=930,exports.ids=[930],exports.modules={8253:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var r=a(997),l=a(6689);let s=l.forwardRef(function({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}),n=l.forwardRef(function({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))}),i=l.forwardRef(function({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}),o=l.forwardRef(function({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}),d=l.forwardRef(function({title:e,titleId:t,...a},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))});function c({cart:e,setCart:t,onPlaceOrder:a,onClose:c,isOpen:m,tableNumber:u,orderNote:h,isEditing:x,menu:g}){let[b,f]=(0,l.useState)(m),[p,w]=(0,l.useState)(!1),[v,j]=(0,l.useState)(e.reduce((e,t)=>(e[t.item_id]=t.note||"",e),{})),[y,N]=(0,l.useState)(""),[k,C]=(0,l.useState)(null),L=(e,a)=>{t(t=>{let r=[...t],l=r.findIndex(t=>t.item_id===e);if(-1===l)return t;let s=(r[l].quantity||1)+a;return s<=0?r.filter((e,t)=>t!==l):(r[l]={...r[l],quantity:s},r)})},E=e=>{t(t=>t.filter(t=>t.item_id!==e)),j(t=>{let a={...t};return delete a[e],a})},_=(e,a)=>{j(t=>({...t,[e]:a})),t(t=>t.map(t=>t.item_id===e?{...t,note:a}:t))},q=g?g.filter(e=>e.name.toLowerCase().includes(y.toLowerCase())):[],M=e.reduce((e,t)=>e+t.price*(t.quantity||1),0),O=e.reduce((e,t)=>e+(t.quantity||1),0);return(0,r.jsxs)("div",{className:`fixed bottom-0 left-0 right-0 bg-white shadow-lg rounded-t-2xl transition-transform duration-300 ease-in-out z-50 ${b?p?"translate-y-[calc(100%-3rem)]":"translate-y-0":"translate-y-full"} ${p?"h-12":"max-h-[80vh]"} flex flex-col overflow-hidden`,role:"dialog","aria-modal":"true","aria-label":"Cart contents",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("h2",{className:"text-lg font-bold",children:[x?"Edit Order":"Cart"," - Table ",u||"Not set"]}),O>0&&(0,r.jsxs)("span",{className:"bg-blue-500 text-white text-xs px-2 py-1 rounded-full",children:[O," ",1===O?"item":"items"]})]}),r.jsx("button",{className:"text-gray-600 hover:text-gray-800",onClick:e.length>0?()=>{w(!p)}:c,"aria-label":p?"Maximize cart":"Minimize cart",children:e.length>0&&p?r.jsx(s,{className:"h-6 w-6"}):r.jsx(n,{className:"h-6 w-6"})})]}),!p&&(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-4",children:[0===e.length?r.jsx("p",{className:"text-center text-gray-500",children:"Cart is empty"}):e.map((e,t)=>(0,r.jsxs)("div",{className:"flex flex-col mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("img",{src:e.image_url||"https://images.unsplash.com/photo-1550547660-d9450f859349",alt:e.name,className:"w-16 h-16 object-cover rounded"}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold",children:e.name}),r.jsx("p",{className:"text-sm text-gray-500",children:e.category}),(0,r.jsxs)("p",{className:"text-sm font-medium",children:["₹",(e.price*(e.quantity||1)).toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"p-1 bg-gray-200 rounded hover:bg-gray-300",onClick:()=>L(e.item_id,-1),"aria-label":`Decrease quantity of ${e.name}`,children:r.jsx(i,{className:"h-4 w-4"})}),r.jsx("span",{className:"w-8 text-center",children:e.quantity||1}),r.jsx("button",{className:"p-1 bg-gray-200 rounded hover:bg-gray-300",onClick:()=>L(e.item_id,1),"aria-label":`Increase quantity of ${e.name}`,children:r.jsx(o,{className:"h-4 w-4"})}),r.jsx("button",{className:"p-1 bg-red-100 rounded hover:bg-red-200",onClick:()=>E(e.item_id),"aria-label":`Remove ${e.name} from cart`,children:r.jsx(d,{className:"h-4 w-4 text-red-600"})})]})]}),r.jsx("input",{type:"text",value:v[e.item_id]||"",onChange:t=>_(e.item_id,t.target.value),className:"mt-2 w-full p-2 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Item note (e.g., No cheese)"})]},`${e.item_id}-${t}`)),x&&(0,r.jsxs)("div",{className:"mt-6",children:[r.jsx("label",{htmlFor:"item-search",className:"block text-sm font-medium text-gray-700 mb-2",children:"Add New Item"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{type:"text",id:"item-search",value:y,onChange:e=>{console.log("Search input changed:",{value:e.target.value,filteredItems:q.length}),N(e.target.value),C(null)},className:"w-full p-2 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Search menu items..."}),y&&q.length>0&&r.jsx("ul",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-md mb-1 max-h-40 overflow-y-auto shadow-lg bottom-full",children:q.map(e=>(0,r.jsxs)("li",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>{console.log("Dropdown item clicked:",e),C(e),N(e.name)},children:[e.name," - ₹",e.price.toFixed(2)]},e.id))}),y&&0===q.length&&r.jsx("p",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-md mb-1 p-2 text-gray-500",children:"No matching items found"})]}),r.jsx("button",{onClick:()=>{console.log("addItemToCart called:",{selectedItem:k,searchTerm:y}),k&&(t(e=>e.find(e=>e.item_id===k.id)?e.map(e=>e.item_id===k.id?{...e,quantity:(e.quantity||1)+1}:e):[...e,{item_id:k.id,name:k.name,price:k.price,category:k.category,image_url:k.image_url||"",quantity:1,note:""}]),N(""),C(null))},disabled:!k,className:`mt-2 w-full py-2 rounded-lg text-white font-medium ${k?"bg-blue-500 hover:bg-blue-600":"bg-gray-300 cursor-not-allowed"}`,children:"Add Item"})]})]}),!p&&e.length>0&&(0,r.jsxs)("div",{className:"p-4 border-t",children:[(0,r.jsxs)("div",{className:"flex justify-between mb-4",children:[r.jsx("span",{className:"font-semibold",children:"Total:"}),(0,r.jsxs)("span",{className:"font-semibold",children:["₹",M.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("button",{className:"flex-1 bg-gray-500 text-white py-2 rounded-lg hover:bg-gray-600",onClick:c,"aria-label":"Close cart",children:"Close"}),r.jsx("button",{className:"flex-1 bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600",onClick:a,"aria-label":x?"Save Order Changes":"Place Order",children:x?"Save Order Changes":"Place Order"})]})]})]})}},3414:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var r=a(997);function l({Component:e,pageProps:t}){return r.jsx(e,{...t})}a(6764)},6764:()=>{},1390:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var r=a(6689);let l=r.forwardRef(function({title:e,titleId:t,...a},l){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8.25v-1.5m0 1.5c-1.355 0-2.697.056-4.024.166C6.845 8.51 6 9.473 6 10.608v2.513m6-4.871c1.355 0 2.697.056 4.024.166C17.155 8.51 18 9.473 18 10.608v2.513M15 8.25v-1.5m-6 1.5v-1.5m12 9.75-1.5.75a3.354 3.354 0 0 1-3 0 3.354 3.354 0 0 0-3 0 3.354 3.354 0 0 1-3 0 3.354 3.354 0 0 0-3 0 3.354 3.354 0 0 1-3 0L3 16.5m15-3.379a48.474 48.474 0 0 0-6-.371c-2.032 0-4.034.126-6 .371m12 0c.39.049.777.102 1.163.16 1.07.16 1.837 1.094 1.837 2.175v5.169c0 .621-.504 1.125-1.125 1.125H4.125A1.125 1.125 0 0 1 3 20.625v-5.17c0-1.08.768-2.014 1.837-2.174A47.78 47.78 0 0 1 6 13.12M12.265 3.11a.375.375 0 1 1-.53 0L12 2.845l.265.265Zm-3 0a.375.375 0 1 1-.53 0L9 2.845l.265.265Zm6 0a.375.375 0 1 1-.53 0L15 2.845l.265.265Z"}))})}};